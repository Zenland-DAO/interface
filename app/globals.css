@import "tailwindcss";

/* ============================================
   ZENLAND V2 - Design System
   Tailwind CSS v4 Theme Configuration

   Inspired by Fireblocks enterprise aesthetic
   ============================================ */

/*
 * Theme Toggle Implementation
 * Light mode is default, dark mode is toggled via .dark class on html element
 */
@custom-variant dark (&:where(.dark, .dark *));

/* ============================================
   THEME VARIABLES
   ============================================ */
@theme {
  /* Font Families */
  --font-sans: var(--font-inter), "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-heading: var(--font-figtree), "Figtree", ui-sans-serif, system-ui, sans-serif;

  /* ==========================================
     ZENLAND COLOR PALETTE (Modernized to OKLCH)
     ========================================== */

  /* Primary Colors - Zenland Blue */
  --color-primary-50: oklch(0.97 0.01 240);
  --color-primary-100: oklch(0.93 0.03 240);
  --color-primary-200: oklch(0.87 0.06 240);
  --color-primary-300: oklch(0.78 0.10 240);
  --color-primary-400: oklch(0.68 0.15 235);
  --color-primary-500: oklch(0.60 0.18 235);  /* Main: #3c97ff equivalent */
  --color-primary-600: oklch(0.52 0.18 235);
  --color-primary-700: oklch(0.44 0.16 235);  /* Dark: #0057c7 equivalent */
  --color-primary-800: oklch(0.38 0.14 235);
  --color-primary-900: oklch(0.32 0.12 235);
  --color-primary-950: oklch(0.24 0.10 235);

  /* Success Colors - Green */
  --color-success-50: oklch(0.97 0.02 150);
  --color-success-100: oklch(0.94 0.05 150);
  --color-success-200: oklch(0.88 0.10 150);
  --color-success-300: oklch(0.80 0.16 150);
  --color-success-400: oklch(0.72 0.20 150);
  --color-success-500: oklch(0.64 0.22 150);  /* Main: #0fe351 equivalent */
  --color-success-600: oklch(0.56 0.18 150);
  --color-success-700: oklch(0.48 0.15 150);  /* Dark: #00ac38 equivalent */
  --color-success-800: oklch(0.42 0.12 150);
  --color-success-900: oklch(0.36 0.10 150);
  --color-success-950: oklch(0.26 0.08 150);

  /* Warning Colors - Amber/Orange */
  --color-warning-50: oklch(0.98 0.02 85);
  --color-warning-100: oklch(0.96 0.05 85);
  --color-warning-200: oklch(0.92 0.10 80);
  --color-warning-300: oklch(0.86 0.15 75);
  --color-warning-400: oklch(0.80 0.18 70);
  --color-warning-500: oklch(0.74 0.18 65);   /* Main: #ffa200 equivalent */
  --color-warning-600: oklch(0.66 0.16 60);
  --color-warning-700: oklch(0.58 0.14 55);   /* Dark: #d86700 equivalent */
  --color-warning-800: oklch(0.50 0.12 50);
  --color-warning-900: oklch(0.42 0.10 50);
  --color-warning-950: oklch(0.30 0.08 50);

  /* Error/Danger Colors - Red */
  --color-error-50: oklch(0.97 0.01 25);
  --color-error-100: oklch(0.94 0.04 25);
  --color-error-200: oklch(0.89 0.07 25);
  --color-error-300: oklch(0.81 0.12 25);
  --color-error-400: oklch(0.71 0.18 25);
  --color-error-500: oklch(0.62 0.22 25);     /* Main: #fd3f3f equivalent */
  --color-error-600: oklch(0.54 0.20 25);
  --color-error-700: oklch(0.46 0.18 25);     /* Dark: #c20017 equivalent */
  --color-error-800: oklch(0.40 0.15 25);
  --color-error-900: oklch(0.34 0.12 25);
  --color-error-950: oklch(0.24 0.10 25);

  /* Neutral/Gray Colors - For text and backgrounds */
  --color-neutral-50: oklch(0.985 0.002 260);
  --color-neutral-100: oklch(0.97 0.003 260);
  --color-neutral-200: oklch(0.93 0.006 260);
  --color-neutral-300: oklch(0.87 0.010 260);
  --color-neutral-400: oklch(0.71 0.020 260);
  --color-neutral-500: oklch(0.55 0.025 260);  /* Nav default: #82828d equivalent */
  --color-neutral-600: oklch(0.45 0.025 260);  /* Nav active: #45454f equivalent */
  --color-neutral-700: oklch(0.37 0.025 260);
  --color-neutral-800: oklch(0.28 0.020 260);
  --color-neutral-900: oklch(0.21 0.020 260);  /* Primary text: #19192c equivalent */
  --color-neutral-950: oklch(0.13 0.020 260);

  /* Surface Colors - For cards, modals, etc. */
  --color-surface-50: oklch(0.99 0.002 260);
  --color-surface-100: oklch(0.98 0.003 260);
  --color-surface-200: oklch(0.96 0.005 250);
  --color-surface-300: oklch(0.94 0.007 250);
  --color-surface-400: oklch(0.92 0.010 250);

  /* ==========================================
     SPACING SCALE (8px baseline grid)
     ========================================== */
  --spacing: 0.25rem;

  /* Semantic Spacing - Vertical Rhythm */
  --space-xs: 0.5rem;     /* 8px - between tight elements */
  --space-sm: 1rem;       /* 16px - between related elements */
  --space-md: 1.5rem;     /* 24px - between content blocks */
  --space-lg: 2.5rem;     /* 40px - between sections */
  --space-xl: 4rem;       /* 64px - major section gaps */
  --space-2xl: 6rem;      /* 96px - page section spacing */

  /* ==========================================
     BORDER RADIUS
     ========================================== */
  --radius-xs: 0.25rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-3xl: 2rem;
  --radius-full: 9999px;

  /* ==========================================
     SHADOWS
     ========================================== */
  --shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.1), 0 1px 2px -1px oklch(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.1), 0 2px 4px -2px oklch(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.1), 0 4px 6px -4px oklch(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px oklch(0 0 0 / 0.1), 0 8px 10px -6px oklch(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px oklch(0 0 0 / 0.25);
  --shadow-card: 0 49px 80px -35px oklch(0 0 0 / 0.12);
  --shadow-button-hover: 0 2px 8px -4px oklch(0 0 0 / 0.08), 0 4px 20px -6px oklch(0 0 0 / 0.08);
  --shadow-focus: 0 0 0 4px oklch(0.60 0.18 235 / 0.25);

  /* ==========================================
     TYPOGRAPHY SCALE
     ========================================== */
  --text-xs: 0.75rem;
  --text-xs--line-height: 1.33;
  --text-sm: 0.875rem;
  --text-sm--line-height: 1.43;
  --text-base: 1rem;
  --text-base--line-height: 1.5;
  --text-lg: 1.125rem;
  --text-lg--line-height: 1.56;
  --text-xl: 1.25rem;
  --text-xl--line-height: 1.4;
  --text-2xl: 1.5rem;
  --text-2xl--line-height: 1.33;
  --text-3xl: 1.875rem;
  --text-3xl--line-height: 1.2;
  --text-4xl: 2.25rem;
  --text-4xl--line-height: 1.17;
  --text-5xl: 3rem;
  --text-5xl--line-height: 1;
  --text-6xl: 3.75rem;
  --text-6xl--line-height: 1;
  --text-7xl: 4.5rem;
  --text-7xl--line-height: 1;

  /* ==========================================
     FONT WEIGHTS
     ========================================== */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* ==========================================
     BREAKPOINTS
     ========================================== */
  --breakpoint-xs: 30rem;     /* 480px */
  --breakpoint-sm: 36rem;     /* 576px */
  --breakpoint-md: 48rem;     /* 768px */
  --breakpoint-lg: 62rem;     /* 992px */
  --breakpoint-xl: 75rem;     /* 1200px */
  --breakpoint-2xl: 87.5rem;  /* 1400px */
  --breakpoint-3xl: 100rem;   /* 1600px */

  /* ==========================================
     TRANSITIONS
     ========================================== */
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);

  /* ==========================================
     ANIMATIONS
     ========================================== */
  --animate-spin: spin 1s linear infinite;
  --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-bounce: bounce 1s infinite;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-slide-up: slide-up 0.3s ease-out;
  --animate-slide-down: slide-down 0.3s ease-out;

  @keyframes spin {
    to { transform: rotate(360deg); }
  }
  @keyframes pulse {
    50% { opacity: 0.5; }
  }
  @keyframes bounce {
    0%, 100% {
      transform: translateY(-25%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: none;
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* ============================================
   IMPORTANT (Tailwind v4 cascade layers)

   Tailwind v4 emits its styles inside cascade layers:
   - base
   - components
   - utilities

   Any CSS you write *outside* of a layer is "unlayered" and will override
   Tailwind utilities — which can break spacing (mx-auto, py-*, px-*) and
   component paddings (buttons looking tiny).

   All custom styles below are therefore defined in layers.
   ============================================ */

/* ============================================
   BASE (theme variables + global element styles)
   ============================================ */

@layer base {
  /* ============================================
     SEMANTIC COLOR VARIABLES (Theme-aware)
     These change based on light/dark mode
     ============================================ */

  :root {
    /* Background Colors */
    --bg-primary: var(--color-surface-50);
    --bg-secondary: var(--color-surface-100);
    --bg-tertiary: var(--color-surface-200);
    --bg-inverse: var(--color-neutral-900);
    --bg-page-gradient: linear-gradient(157.09deg, oklch(0.97 0.005 250) 15.24%, oklch(0.93 0.01 240) 85.86%);

    /* Text Colors */
    --text-primary: var(--color-neutral-900);
    --text-secondary: var(--color-neutral-600);
    --text-tertiary: var(--color-neutral-500);
    --text-disabled: var(--color-neutral-400);
    --text-inverse: var(--color-surface-50);

    /* Border Colors */
    --border-primary: var(--color-neutral-200);
    --border-secondary: var(--color-neutral-100);
    --border-focus: var(--color-primary-500);

    /* Interactive Colors */
    --interactive-primary: var(--color-primary-500);
    --interactive-primary-hover: var(--color-primary-600);
    --interactive-primary-active: var(--color-primary-700);

    /* State Colors */
    --state-hover: oklch(0.97 0.003 260);
    --state-selected: oklch(0.94 0.006 260);
    --state-focus: var(--color-primary-100);

    /* Navigation Colors */
    --nav-bg: oklch(1 0 0 / 0.7);
    --nav-text: var(--color-neutral-500);
    --nav-text-active: var(--color-neutral-700);
    --nav-text-hover: var(--color-neutral-600);
    --nav-divider: var(--color-neutral-200);
  }

  /* Dark Mode Variables */
  .dark {
    --bg-primary: oklch(0.15 0.015 260);
    --bg-secondary: oklch(0.18 0.015 260);
    --bg-tertiary: oklch(0.22 0.015 260);
    --bg-inverse: var(--color-surface-50);
    --bg-page-gradient: linear-gradient(157.09deg, oklch(0.15 0.015 260) 15.24%, oklch(0.12 0.02 260) 85.86%);

    --text-primary: oklch(0.95 0.005 260);
    --text-secondary: oklch(0.75 0.01 260);
    --text-tertiary: oklch(0.60 0.015 260);
    --text-disabled: oklch(0.45 0.015 260);
    --text-inverse: var(--color-neutral-900);

    --border-primary: oklch(0.30 0.015 260);
    --border-secondary: oklch(0.25 0.015 260);

    --interactive-primary: var(--color-primary-400);
    --interactive-primary-hover: var(--color-primary-300);
    --interactive-primary-active: var(--color-primary-500);

    --state-hover: oklch(0.22 0.015 260);
    --state-selected: oklch(0.28 0.015 260);
    --state-focus: oklch(0.25 0.04 235);

    --nav-bg: oklch(0.18 0.02 260 / 0.8);
    --nav-text: oklch(0.65 0.01 260);
    --nav-text-active: oklch(0.90 0.005 260);
    --nav-text-hover: oklch(0.80 0.008 260);
    --nav-divider: oklch(0.30 0.015 260);
  }

  /* ============================================
     BASE STYLES
     ============================================ */

  html {
    font-size: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scrollbar-gutter: stable;
    /* Global mobile overflow protection */
    overflow-x: hidden;
    width: 100%;
  }

  /* Avoid global margin/padding resets — Tailwind utilities should control spacing */
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    /* Prevent elements from accidentally being larger than their containers */
    max-width: 100vw;
  }

  body {
    font-family: var(--font-sans);
    background: var(--bg-page-gradient);
    color: var(--text-primary);
    min-height: 100vh;
    transition: background-color 0.3s ease, color 0.3s ease;
    /* Global mobile overflow protection */
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }

  /* Handle potentially unbreakable strings globally */
  code, pre {
    word-break: break-all;
    overflow-wrap: anywhere;
  }
  button,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  input[type="reset"] {
    cursor: pointer;
  }

  /* Handle disabled state */
  button:disabled,
  [role="button"][aria-disabled="true"] {
    cursor: not-allowed;
  }

  /* ============================================
     SCROLLBAR STYLES
     ============================================ */

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-neutral-300);
    border-radius: var(--radius-full);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-neutral-400);
  }

  .dark ::-webkit-scrollbar-thumb {
    background: oklch(0.35 0.015 260);
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: oklch(0.45 0.015 260);
  }

  /* ============================================
     LINK STYLES
     ============================================ */

  a {
    color: inherit;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  /* ============================================
     SELECTION STYLES
     ============================================ */

  ::selection {
    background-color: var(--color-primary-200);
    color: var(--color-primary-900);
  }

  .dark ::selection {
    background-color: var(--color-primary-700);
    color: var(--color-primary-100);
  }
}

/* ============================================
   UTILITIES (custom utility classes)
   ============================================ */

@layer utilities {
  /* Screen Reader Only */
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }

  /* Text Truncation */
  .truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Focus Ring */
  .focus-ring {
    &:focus-visible {
      outline: none;
      box-shadow: var(--shadow-focus);
    }
  }

  /* ============================================
     LAYOUT SPACING UTILITIES
     Vertical rhythm for consistent spacing
     ============================================ */

  /* Stack utilities - vertical flex with consistent gaps */
  .stack-xs {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .stack-sm {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .stack-md {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
  }

  .stack-lg {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .stack-xl {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
  }

  /* Content wrapper with max width and centering */
  .content-container {
    max-width: var(--breakpoint-xl);
    margin-inline: auto;
    padding-inline: 1rem;
  }

  @media (min-width: 36rem) {
    .content-container {
      padding-inline: 1.5rem;
    }
  }

  @media (min-width: 62rem) {
    .content-container {
      padding-inline: 2rem;
    }
  }

  /* Section spacing */
  .section {
    padding-block: var(--space-xl);
  }

  @media (min-width: 62rem) {
    .section {
      padding-block: var(--space-2xl);
    }
  }

  /* ==========================================
     SCROLL-TRIGGERED ANIMATIONS
     Elements fade in and slide up on scroll
     ========================================== */

  /* Native smooth scroll for everyone by default (good for mobile) */
  html {
    scroll-behavior: smooth;
  }

  /* Disable native smooth scroll ONLY when Lenis is active on desktop
     to prevent conflict between JS and CSS engines. */
  html.lenis-active {
    scroll-behavior: auto;
  }

  /* Fade-in on scroll - add to elements you want animated */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .animate-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered animations for lists/grids */
  .stagger-1 { transition-delay: 0.1s; }
  .stagger-2 { transition-delay: 0.2s; }
  .stagger-3 { transition-delay: 0.3s; }
  .stagger-4 { transition-delay: 0.4s; }
  .stagger-5 { transition-delay: 0.5s; }

  /* Fade up animation class for immediate play */
  .fade-up {
    animation: fade-up 0.6s ease-out forwards;
  }

  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scale-in animation */
  .scale-in {
    animation: scale-in 0.5s ease-out forwards;
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Slide-in from left */
  .slide-in-left {
    animation: slide-in-left 0.5s ease-out forwards;
  }

  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Slide-in from right */
  .slide-in-right {
    animation: slide-in-right 0.5s ease-out forwards;
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* ==========================================
     GLASSMORPHISM / TRANSPARENCY EFFECTS
     ========================================== */

  .glass {
    background: oklch(1 0 0 / 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid oklch(1 0 0 / 0.2);
  }

  .dark .glass {
    background: oklch(0.15 0.015 260 / 0.6);
    border: 1px solid oklch(1 0 0 / 0.1);
  }
}
